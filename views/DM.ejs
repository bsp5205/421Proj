<%- include('head.ejs')%>
<style>

    #cont{

    }
    .msg{
        background-color: lightgray;
        margin-left: 1%;
        margin-top: 1%;
    }
    .centered {
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .textBoxSize{
        width: 90%;
        height: 100px;
    }
    .buttonSize{
        height: 100px;
        width: 100px;
    }
    .content {
        overflow:auto;
        height: 80%;
    }
    .footer {
        height: 100px;
    }
    .background{
        background-color: lightgray;
        height: 80%;
        width: 90%;
        margin-left: 5%;
        margin-top: 2%;
    }
    #myForm{

    }
    .image{
        height: 30px;
        width: 30px;
    }
    .msgCont{
        display: flex;
        margin-left: 1%;
        margin-top: 1%;
        margin-right: 1%;
    }
    .msgText{
        padding-left: 5px;
    }
</style>
<script>

    function postMessage(message){
        var tag = document.createElement("p");
        var text = document.createTextNode(message);
        tag.append(text);
        tag.classList.add("msgText");

        var div = document.createElement("div");

        var img = document.createElement("img");
        img.setAttribute("src", "./images/Default_pfp.jpg");
        img.classList.add("image");
        div.appendChild(img);

        div.appendChild(tag);
        div.classList.add("msgCont");

        var cont = document.getElementById("cont");
        cont.appendChild(div);
        event.preventDefault();
        document.getElementById("myForm").reset();
        tag.scrollIntoView();
        window.setTimeout( function () { top(); }, 2000 );
    }

</script>

<div class="background">

    <div class="msg">
        <div id="cont" class="content"></div>
    </div>

    <footer class="footer">
        <form id="myForm" class="centered">
            <input type="text" id="msg" class="textBoxSize">
            <input type="submit" class="buttonSize" value="Send" onclick="postMessage(document.getElementById('msg').value)">
        </form>
    </footer>
</div>